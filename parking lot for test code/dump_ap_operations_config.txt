[tree]
logging_level=INFO
RUN tree=MapleTree(logging_level={tree$logging_level})
[leaf:fmc_1]
host=10.1.101.39
domain=Global
type=fmc
name=fmc_1
leaf_args=leaf_type={leaf:fmc_1$type},name={leaf:fmc_1$name},json_file_path=@model_json_file,FMC_host={leaf:fmc_1$host},FMC_username=@rest_admin_user,FMC_password=@rest_admin_password,FMC_domain={leaf:fmc_1$domain}
RUN leaf={tree$RUN tree}.add_leaf_instance({leaf:fmc_1$leaf_args})
RUN domain_id={leaf:fmc_1$RUN leaf}.get_domain_id(domain={leaf:fmc_1$domain})
[leaf:fmc_1/set_1]
ap_id_url=policy/accesspolicies/$..items[@.name is 'test access policy 2'].id
RUN ap_id={leaf:fmc_1$RUN leaf}.GET_object_id(url={leaf:fmc_1/set_1$ap_id_url})
walk_url=policy/accesspolicies/{leaf:fmc_1/set_1$RUN ap_id}
RUN results={leaf:fmc_1$RUN leaf}.walk_API_path_gets(url={leaf:fmc_1/set_1$walk_url})
RUN pickle=output.create_pickle(struct={leaf:fmc_1/set_1$RUN results},file=results_pickle.pickle)
RUN pprint=output.pretty_print(_object={leaf:fmc_1/set_1$RUN results})
